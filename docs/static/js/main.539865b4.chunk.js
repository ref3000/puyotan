(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(32)},16:function(t,e,n){},18:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(10),r=n.n(c),s=(n(16),n(2)),u=n(3),i=n(5),l=n(4),m=n(6),p=(n(18),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(i.a)(this,Object(l.a)(e).call(this,t))).submit=function(t){n.onButtonClick({name:n.state.name,text:n.state.text}),n.setState({text:""})},n.onButtonClick=t.onButtonClick,n.state={name:"",text:""},n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"ChatBox"},o.a.createElement("input",{placeholder:"\u540d\u524d",value:this.state.name,onChange:function(e){return t.setState({name:e.target.value})}}),o.a.createElement("textarea",{placeholder:"\u30b3\u30e1\u30f3\u30c8",value:this.state.text,onChange:function(e){return t.setState({text:e.target.value})}}),o.a.createElement("button",{onClick:this.submit},"\u9001\u4fe1"))}}]),e}(o.a.Component)),d=n(7),h=n.n(d);n(27);h.a.initializeApp({apiKey:"AIzaSyDNckvdwFU9B-Xg3YPY-tgsrj09kg0MTxE",authDomain:"puyotan-be458.firebaseapp.com",databaseURL:"https://puyotan-be458.firebaseio.com",projectId:"puyotan-be458",storageBucket:"puyotan-be458.appspot.com",messagingSenderId:"1067679324903"});var f=h.a.firestore();f.settings({timestampsInSnapshots:!0});var b=[{n:1},{n:3},{n:5},{n:2}];b.sort(function(t,e){return t.n-e.n}),console.log(b);var v=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(i.a)(this,Object(l.a)(e).call(this,t))).onButtonClick=function(t){console.log(t),n.setState({chatObjs:n.state.chatObjs.concat(t)}),f.collection("comments").add({name:t.name,text:t.text,updatedAt:h.a.firestore.FieldValue.serverTimestamp()}).then(function(){console.log("Document successfully written!")}).catch(function(t){console.error("Error writing document: ",t)})},n.state={chatObjs:[]},f.collection("comments").onSnapshot(function(t){var e=t.docs.filter(function(t){return!t.metadata.hasPendingWrites}).map(function(t){var e=t.data();return{name:e.name,text:e.text,updatedAt:null!=e.updatedAt?e.updatedAt.seconds:(new Date).getTime()/1e3}});e.sort(function(t,e){return t.updatedAt-e.updatedAt}),n.setState({chatObjs:e})}),n}return Object(m.a)(e,t),Object(u.a)(e,[{key:"render",value:function(){console.log("render");var t=this.state.chatObjs.map(function(t,e){return o.a.createElement("p",{key:e},t.name,": ",t.text," :",t.updatedAt)});return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"\u3077\u3088\u305f\u3093\u30c6\u30b9\u30c8"),t,o.a.createElement(p,{onButtonClick:this.onButtonClick}))}}]),e}(o.a.Component);r.a.render(o.a.createElement(v,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.539865b4.chunk.js.map