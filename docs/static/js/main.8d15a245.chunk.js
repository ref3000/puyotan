(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),n=a(5),o=(a(15),a(17),function(){return i.a.createElement("div",{className:"AppHeader"},i.a.createElement("div",{className:"AppHeader-title"},"\u3077\u3088\u305f\u3093\u03b2"),i.a.createElement("div",{className:"AppHeader-version"},"v0.1"))}),r=a(1),c=a(2),l=a(7),h=a(6),u=a(8),d=a(3),m=(a(19),function(){function e(t){Object(r.a)(this,e),this.y=null==t?2147483647*Math.random():t}return Object(c.a)(e,[{key:"setSeed",value:function(e){this.y=e}},{key:"next",value:function(){return this.y=this.y^this.y<<13,this.y=this.y^this.y>>17,this.y=this.y^this.y<<15,this.y>>>0}},{key:"nextInt",value:function(e){return Math.abs(this.next())%e}}]),e}()),f={BRANK:0,RED:1,GREEN:2,BLUE:3,YELLOW:4,PURPLE:5,IRON:6,OJAMA:7,WALL:8,PEKE:9},y=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.BRANK,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.BRANK;Object(r.a)(this,e),this.axis=t,this.sub=a},v=function(){function e(t,a){Object(r.a)(this,e),this.init(t,a)}return Object(c.a)(e,[{key:"init",value:function(e,t){(null==t&&(t="random"),this._mode=t,null==e)&&(e=(new m).nextInt(16777216));this._seed=e,this._random=new m(this._seed),this._size=1e3,this._puyos=[];for(var a=0;a<this._size;a++)this._puyos.push(new y(this._nextKind(),this._nextKind()))}},{key:"size",value:function(){return this._size}},{key:"get",value:function(e){return this._puyos[e%this._size]}},{key:"seed",value:function(){return this._seed}},{key:"edit",value:function(e,t,a){e>=this._size||e<0||(a?this._puyos[e].axis=t:this._puyos[e].sub=t)}},{key:"_nextKind",value:function(){switch(this._random.nextInt(4)){case 0:return f.RED;case 1:return f.GREEN;case 2:return f.BLUE;case 3:return f.YELLOW;default:throw new Error("unexpected error")}}}]),e}(),p=function e(t,a){Object(r.a)(this,e),this.x=isNaN(t)?0:t,this.y=isNaN(a)?0:a},P=function(){function e(){Object(r.a)(this,e),this.height=13,this.width=6,this._field=[];for(var t=0;t<this.height+1;t++){for(var a=[],s=0;s<this.width;s++)a.push(f.BRANK);this._field.push(a)}}return Object(c.a)(e,[{key:"isBrank",value:function(e){return this.get(e)===f.BRANK}},{key:"get",value:function(e){return e.y<1||e.x<1||e.x>this.width?f.WALL:e.y>this.height?f.BRANK:this._field[e.y-1][e.x-1]}},{key:"set",value:function(e,t){e.y<1||e.y>this.height+1||e.x<1||e.x>this.width||(this._field[e.y-1][e.x-1]=t)}},{key:"setAndFall",value:function(e,t){if(e<1||e>this.width)throw RangeError("out of field.");this.isBrank(new p(e,13))&&(this.set(new p(e,13),t),this.fall())}},{key:"fall",value:function(){for(var e=!1,t=1;t<=this.width;t++)for(var a=1,s=1;s<=this.height+1;s++){var i=this.get(new p(t,s));i!==f.BRANK&&(i!==f.WALL?(this.set(new p(t,s),this.get(new p(t,a))),this.set(new p(t,a),i),a!==s&&(e=!0),a++):a=s+1)}for(var n=1;n<=this.width;n++)this.set(new p(n,14),f.BRANK);return e}},{key:"canFall",value:function(){for(var e=1;e<=this.width;e++)for(var t=2;t<=this.height;t++)if(this.isBrank(new p(e,t-1))&&!this.isBrank(new p(e,t))&&this.get(new p(e,t))!==f.WALL)return!0;return!1}},{key:"_countConnection",value:function(e,t,a){return this.get(e)===f.IRON?0:this.get(e)===f.PEKE?0:this.get(e)===f.WALL?0:this.get(e)===f.BRANK?0:this.get(e)===f.OJAMA?0:this.get(e)!==t?0:a.get(e)!==f.BRANK?0:e.y>=13?0:(a.set(e,t),this._countConnection(new p(e.x,e.y+1),t,a)+this._countConnection(new p(e.x+1,e.y),t,a)+this._countConnection(new p(e.x,e.y-1),t,a)+this._countConnection(new p(e.x-1,e.y),t,a)+1)}},{key:"countConnection",value:function(t){return this._countConnection(t,this.get(t),new e)}},{key:"_deleteConnection",value:function(e,t){return this.get(e)===f.BRANK?0:this.get(e)===f.OJAMA?(this.set(e,f.BRANK),0):this.get(e)!==t?0:e.y>=13?0:(this.set(e,f.BRANK),this._deleteConnection(new p(e.x,e.y+1),t)+this._deleteConnection(new p(e.x+1,e.y),t)+this._deleteConnection(new p(e.x,e.y-1),t)+this._deleteConnection(new p(e.x-1,e.y),t)+1)}},{key:"deleteConnection",value:function(e){return this._deleteConnection(e,this.get(e))}},{key:"canFire",value:function(){for(var t=new e,a=1;a<this.height;a++)for(var s=1;s<=this.width;s++){var i=new p(s,a);if(this._countConnection(i,this.get(i),t)>=4)return!0}return!1}},{key:"stepFire",value:function(){for(var t=new function e(){Object(r.a)(this,e),this.num=0,this.connections=[],this.color=0},a=new e,s={},i=1;i<this.height;i++)for(var n=1;n<=this.width;n++){var o=new p(n,i),c=this.get(o),l=this._countConnection(o,c,a);l>=4&&(this.deleteConnection(o),t.num+=l,t.connections.push(l),s[c]=!0)}return t.color=Object.keys(s).length,t}},{key:"Height",value:function(){return this.height}},{key:"Width",value:function(){return this.width}},{key:"copy",value:function(){for(var t=new e,a=1;a<=this.height;a++)for(var s=1;s<=this.width;s++){var i=new p(s,a);t.set(i,this.get(i))}return t}},{key:"equal",value:function(e){for(var t=1;t<=this.height;t++)for(var a=1;a<=this.width;a++){var s=new p(a,t);if(this.get(s)!==e.get(s))return!1}return!0}},{key:"isAllClear",value:function(){for(var e=1;e<=this.height;e++)for(var t=1;t<=this.width;t++){var a=new p(t,e);if(this.get(a)!==f.BRANK)return!1}return!0}},{key:"map",value:function(e){for(var t=[],a=1;a<=this.height;a++)for(var s=1;s<=this.width;s++){var i=new p(s,a),n=this.get(i);t.push(e(i,n))}return t}},{key:"toString",value:function(){var e=this.copy()._field;return e.reverse(),e.map(function(e){return e.join(",")}).join("\n")}}]),e}(),A={Kind:f,Pos:p,Next:v,Field:P,PuyoPair:y},w={PASS:0,PUT:1,CHAIN:2,OJAMA:3},x=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.PASS,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(r.a)(this,e),this.type=t,this.x=a,this.dir=s},g=function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,e),this.action=t,this.remainingFrame=a},k=function(){function e(){Object(r.a)(this,e),this.field=new A.Field,this.actionHistories=[],this.activeNextPos=0,this.score=0,this.usedScore=0,this.nonActiveOjama=0,this.activeOjama=0,this.chain=0,this.random=new m}return Object(c.a)(e,[{key:"fallOjama",value:function(e){for(;e>0;)if(e>=6){for(var t=1;t<=6;t++)this.field.setAndFall(t,A.Kind.OJAMA);e-=6}else{for(var a=[!1,!1,!1,!1,!1,!1],s=0;s<e;s++)for(var i=this.random.nextInt(6-s),n=0,o=0;o<6;o++)a[o]||n++===i&&(a[o]=!0);for(var r=1;r<=6;r++)a[r-1]&&this.field.setAndFall(r,A.Kind.OJAMA);e=0}}}]),e}(),N={Puyotan:function(){function e(){Object(r.a)(this,e),this.next=new A.Next,this.players=[new k,new k],this.frame=0,this.gameStatusText="\u5f85\u6a5f\u4e2d"}return Object(c.a)(e,[{key:"getPlayer",value:function(e){return this.players[e]}},{key:"start",value:function(){0===this.frame&&(this.frame++,this.gameStatusText="\u5bfe\u6226\u4e2d")}},{key:"setAction",value:function(e,t){if(!(this.frame<=0)&&null==this.players[e].actionHistories[this.frame])switch(t.type){case w.PASS:this.players[e].actionHistories[this.frame]=new g(t,0);break;case w.PUT:this.players[e].actionHistories[this.frame]=new g(t,1);break;default:throw new Error("unsupported action type.")}}},{key:"canStepNextFrame",value:function(){var e=this;return!(this.frame<=0)&&this.players.every(function(t){return null!=t.actionHistories[e.frame]})}},{key:"stepNextFrame",value:function(){var e=this;if(!this.canStepNextFrame())return console.error("can not step next frame.");this.players.forEach(function(t,a){var s=t.actionHistories[e.frame];s.remainingFrame>0&&(t.actionHistories[e.frame+1]=new g(s.action,s.remainingFrame-1))}),this.players.forEach(function(t,a){var s=t.actionHistories[e.frame];if(0===s.remainingFrame)switch(s.action.type){case w.PASS:break;case w.PUT:var i=e.next.get(t.activeNextPos),n=s.action.x,o=s.action.dir;switch(o){case 0:t.field.setAndFall(n,i.axis),t.field.setAndFall(n,i.sub);break;case 1:t.field.setAndFall(n,i.axis),t.field.setAndFall(n+1,i.sub);break;case 2:t.field.setAndFall(n,i.sub),t.field.setAndFall(n,i.axis);break;case 3:t.field.setAndFall(n,i.axis),t.field.setAndFall(n-1,i.sub);break;default:throw Error("unsupported direction range or type. ".concat(o))}t.field.canFire()&&(t.chain=0,t.actionHistories[e.frame+1]=new g(new x(w.CHAIN),2));break;case w.CHAIN:var r=t.field.stepFire();t.chain++,t.score+=e.calcScore(r.num,r.color,r.connections,t.chain);var c=Math.floor((t.score-t.usedScore)/70);if(t.usedScore+=70*c,t.nonActiveOjama>0){var l=Math.min(c,t.nonActiveOjama);t.nonActiveOjama-=l,c-=l}if(t.activeOjama>0){var h=Math.min(c,t.activeOjama);t.activeOjama-=h,c-=h}c>0&&e.sendOjama(a,c),t.field.fall(),t.field.canFire()?t.actionHistories[e.frame+1]=new g(new x(w.CHAIN),2):e.activeOjama(a);break;case w.OJAMA:if(t.activeOjama<=0)throw new Error("failed to fall ojama.");var u=Math.min(t.activeOjama,30);t.activeOjama-=u,t.fallOjama(u);break;default:throw new Error("unsupported action type.")}});var t=0,a=0;this.players.forEach(function(s,i){null==s.actionHistories[e.frame+1]&&s.field.get(new A.Pos(3,12))!==A.Kind.BRANK||(t++,a=i)}),0===t&&(this.gameStatusText="\u5f15\u304d\u5206\u3051\u2026"),1===t&&(this.gameStatusText="Player ".concat(a+1," \u306e\u52dd\u5229\uff01")),this.players.forEach(function(t,a){null==t.actionHistories[e.frame+1]&&t.activeOjama>0&&(t.actionHistories[e.frame+1]=new g(new x(w.OJAMA),0))}),this.players.forEach(function(t,a){var s=t.actionHistories[e.frame],i=t.actionHistories[e.frame+1];s.action.type!==w.PASS&&null==i&&t.activeNextPos++}),this.frame++}},{key:"calcScore",value:function(e,t,a,s){var i=[0,2,3,4,5,6,7,10],n=10*e,o=[0,8,16,32,64,96,128,160,192,224,256,288,320,352,384,416,448,480,512][s-1];void 0===o&&(o=512),o+=[0,3,6,12,24][t-1];for(var r=0;r<a.length;r++){var c=a[r];o+=c>11?10:i[c-4]}return 0===o&&(o=1),n*o}},{key:"sendOjama",value:function(e,t){this.players.forEach(function(a,s){s!==e&&(a.nonActiveOjama+=t)})}},{key:"activeOjama",value:function(e){this.players.forEach(function(t,a){a!==e&&(t.activeOjama+=t.nonActiveOjama,t.nonActiveOjama=0)})}},{key:"getViewModel",value:function(){var e=this;return{frame:this.frame,players:this.players.map(function(t){return{activePair:0===e.frame?new A.PuyoPair:e.next.get(t.activeNextPos),next1:0===e.frame?e.next.get(0):e.next.get(t.activeNextPos+1),next2:0===e.frame?e.next.get(1):e.next.get(t.activeNextPos+2),field:t.field,actionHistories:t.actionHistories,chain:t.chain,score:t.score,usedScore:t.usedScore,nonActiveOjama:t.nonActiveOjama,activeOjama:t.activeOjama}}),gameStatusText:this.gameStatusText}}}]),e}(),Action:x,ActionType:w,Player:k},O=function(e){function t(e){var a;Object(r.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).puyotan=new N.Puyotan;var s=a.puyotan.getViewModel();return a.state={activePair1:s.players[0].activePair,activePair2:s.players[1].activePair,field1:s.players[0].field,field2:s.players[1].field,next11:s.players[0].next1,next12:s.players[0].next2,next21:s.players[1].next1,next22:s.players[1].next2,frame:s.frame,actionHistories1:s.players[0].actionHistories,actionHistories2:s.players[1].actionHistories,controledPos1:0,controledDir1:0,controledPos2:0,controledDir2:0,isControlledPlayer1:!0,isControlledPlayer2:!0,chain1:s.players[0].chain,chain2:s.players[1].chain,score1:s.players[0].score,score2:s.players[1].score,usedScore1:s.players[0].usedScore,usedScore2:s.players[1].usedScore,nonActiveOjama1:s.players[0].nonActiveOjama,nonActiveOjama2:s.players[1].nonActiveOjama,activeOjama1:s.players[0].activeOjama,activeOjama2:s.players[1].activeOjama,gameStatusText:s.gameStatusText},window.addEventListener("keydown",function(e){switch(e.preventDefault(),e.keyCode){case 37:return void a.moveLeft();case 39:return void a.moveRight();case 38:return;case 40:return void a.putPuyo();case 49:return void a.toggleControlledPlayer1();case 50:return void a.toggleControlledPlayer2();case 51:case 52:case 53:case 54:case 55:case 56:return;case 88:return void a.turnRight();case 90:return void a.turnLeft();case 67:case 68:case 69:return;case 78:return void a.stepNextFrame();case 80:return void a.pass();case 82:return;case 83:return void a.gameStart();case 84:default:return}}),window.Puyotan=N,window.Game=Object(d.a)(Object(d.a)(a)),window.put=function(e,t,s){a.setAction(e,new N.Action(N.ActionType.PUT,t,s))},window.pass=function(e){a.setAction(e,new N.Action(N.ActionType.PASS))},window.step=function(){a.stepNextFrame()},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"Game"},i.a.createElement("div",{className:"Game-history Game-pos-history1"},this.actionHistoriesToElements(this.state.actionHistories1)),i.a.createElement("div",{className:"Game-history Game-pos-history2"},this.actionHistoriesToElements(this.state.actionHistories2)),i.a.createElement("div",{className:"Game-field Game-pos-field1"+(this.state.isControlledPlayer1?" Game-field-active":"")},this.fieldToElements(this.state.field1),i.a.createElement("div",{style:{top:32*(13-this.getSubPos1().y),left:32*(this.getSubPos1().x-1)},className:"Game-puyo ".concat(this.kindToClassName(this.state.activePair1.sub))}),i.a.createElement("div",{style:{top:32*(13-this.getAxisPos1().y),left:32*(this.getAxisPos1().x-1)},className:"Game-puyo ".concat(this.kindToClassName(this.state.activePair1.axis))})),i.a.createElement("div",{className:"Game-field Game-pos-field2"+(this.state.isControlledPlayer2?" Game-field-active":"")},this.fieldToElements(this.state.field2),i.a.createElement("div",{style:{top:32*(13-this.getSubPos2().y),left:32*(this.getSubPos2().x-1)},className:"Game-puyo ".concat(this.kindToClassName(this.state.activePair2.sub))}),i.a.createElement("div",{style:{top:32*(13-this.getAxisPos2().y),left:32*(this.getAxisPos2().x-1)},className:"Game-puyo ".concat(this.kindToClassName(this.state.activePair2.axis))})),i.a.createElement("div",{className:"Game-next Game-pos-next11"},this.nextToElements(this.state.next11)),i.a.createElement("div",{className:"Game-next Game-pos-next12"},this.nextToElements(this.state.next12)),i.a.createElement("div",{className:"Game-next Game-pos-next21"},this.nextToElements(this.state.next21)),i.a.createElement("div",{className:"Game-next Game-pos-next22"},this.nextToElements(this.state.next22)),i.a.createElement("div",{className:"Game-pos-chain1"},this.state.chain1," CHAIN"),i.a.createElement("div",{className:"Game-pos-chain2"},this.state.chain2," CHAIN"),i.a.createElement("div",{className:"Game-pos-score1"},this.state.score1," \u70b9"),i.a.createElement("div",{className:"Game-pos-score2"},this.state.score2," \u70b9"),i.a.createElement("div",{className:"Game-pos-usedScore1"},this.state.usedScore1," \u70b9"),i.a.createElement("div",{className:"Game-pos-usedScore2"},this.state.usedScore2," \u70b9"),i.a.createElement("div",{className:"Game-pos-activeOjama1"},"\u30a2\u30af\u30c6\u30a3\u30d6\u304a\u3058\u3083\u307e ",this.state.activeOjama1," \u500b"),i.a.createElement("div",{className:"Game-pos-activeOjama2"},"\u30a2\u30af\u30c6\u30a3\u30d6\u304a\u3058\u3083\u307e ",this.state.activeOjama2," \u500b"),i.a.createElement("div",{className:"Game-pos-nonActiveOjama1"},"\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u304a\u3058\u3083\u307e ",this.state.nonActiveOjama1," \u500b"),i.a.createElement("div",{className:"Game-pos-nonActiveOjama2"},"\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u304a\u3058\u3083\u307e ",this.state.nonActiveOjama2," \u500b"),i.a.createElement("div",{className:"Game-pos-frame"},"frame: ",this.state.frame),i.a.createElement("div",{className:"Game-pos-gameStatusText"},"statusText: ",this.state.gameStatusText))}},{key:"actionHistoriesToElements",value:function(e){for(var t=[],a=this.state.frame;a>=1;a--){var s=e[a],n="";if(null!=s){switch(s.action.type){case N.ActionType.PASS:n="PASS";break;case N.ActionType.PUT:n="PUT(".concat(s.action.x,", ").concat(s.action.dir,")");break;case N.ActionType.CHAIN:n="CHAIN";break;case N.ActionType.OJAMA:n="OJAMA";break;default:n="unknown type"}n="".concat(n," ").concat(s.remainingFrame)}var o={top:32*(this.state.frame-a)};t.push(i.a.createElement("div",{key:a,style:o,className:"Game-history-tile"},a,":",n))}return t}},{key:"fieldToElements",value:function(e){var t=this;return e.map(function(e,a){var s={left:32*(e.x-1),top:32*(13-e.y)},n=t.kindToClassName(a);return i.a.createElement("div",{key:"".concat(e.x,"_").concat(e.y),style:s,className:"Game-puyo ".concat(n)})})}},{key:"nextToElements",value:function(e){return[i.a.createElement("div",{key:"sub",className:"Game-puyo ".concat(this.kindToClassName(e.sub))}),i.a.createElement("div",{key:"axs",className:"Game-puyo ".concat(this.kindToClassName(e.axis)),style:{top:32}})]}},{key:"kindToClassName",value:function(e){switch(e){case A.Kind.RED:return"Game-puyo-kind-red";case A.Kind.BLUE:return"Game-puyo-kind-blue";case A.Kind.GREEN:return"Game-puyo-kind-green";case A.Kind.YELLOW:return"Game-puyo-kind-yellow";case A.Kind.OJAMA:return"Game-puyo-kind-ojama";default:return"Game-puyo-kind-blank"}}},{key:"toggleControlledPlayer1",value:function(){this.setState({isControlledPlayer1:!this.state.isControlledPlayer1})}},{key:"toggleControlledPlayer2",value:function(){this.setState({isControlledPlayer2:!this.state.isControlledPlayer2})}},{key:"reflectPuyotanView",value:function(){var e=this.puyotan.getViewModel();this.setState({activePair1:e.players[0].activePair,activePair2:e.players[1].activePair,field1:e.players[0].field,field2:e.players[1].field,next11:e.players[0].next1,next12:e.players[0].next2,next21:e.players[1].next1,next22:e.players[1].next2,frame:e.frame,actionHistories1:e.players[0].actionHistories,actionHistories2:e.players[1].actionHistories,chain1:e.players[0].chain,chain2:e.players[1].chain,score1:e.players[0].score,score2:e.players[1].score,usedScore1:e.players[0].usedScore,usedScore2:e.players[1].usedScore,nonActiveOjama1:e.players[0].nonActiveOjama,nonActiveOjama2:e.players[1].nonActiveOjama,activeOjama1:e.players[0].activeOjama,activeOjama2:e.players[1].activeOjama,gameStatusText:e.gameStatusText})}},{key:"gameStart",value:function(){this.puyotan.start(),this.reflectPuyotanView(),this.setState({controledPos1:3,controledDir1:0,controledPos2:3,controledDir2:0})}},{key:"setAction",value:function(e,t){this.puyotan.setAction(e,t)}},{key:"moveLeft",value:function(){this.state.isControlledPlayer1&&(this.state.controledPos1>2||2===this.state.controledPos1&&3!==this.state.controledDir1)&&this.setState({controledPos1:this.state.controledPos1-1}),this.state.isControlledPlayer2&&(this.state.controledPos2>2||2===this.state.controledPos2&&3!==this.state.controledDir2)&&this.setState({controledPos2:this.state.controledPos2-1})}},{key:"moveRight",value:function(){this.state.isControlledPlayer1&&(this.state.controledPos1<5||5===this.state.controledPos1&&1!==this.state.controledDir1)&&this.setState({controledPos1:this.state.controledPos1+1}),this.state.isControlledPlayer2&&(this.state.controledPos2<5||5===this.state.controledPos2&&1!==this.state.controledDir2)&&this.setState({controledPos2:this.state.controledPos2+1})}},{key:"turnLeft",value:function(){if(this.state.isControlledPlayer1){var e=0;1===this.state.controledPos1&&0===this.state.controledDir1&&(e=1),6===this.state.controledPos1&&2===this.state.controledDir1&&(e=-1),this.setState({controledDir1:(this.state.controledDir1+3)%4,controledPos1:this.state.controledPos1+e})}if(this.state.isControlledPlayer2){var t=0;1===this.state.controledPos2&&0===this.state.controledDir2&&(t=1),6===this.state.controledPos2&&2===this.state.controledDir2&&(t=-1),this.setState({controledDir2:(this.state.controledDir2+3)%4,controledPos2:this.state.controledPos2+t})}}},{key:"turnRight",value:function(){if(this.state.isControlledPlayer1){var e=0;1===this.state.controledPos1&&2===this.state.controledDir1&&(e=1),6===this.state.controledPos1&&0===this.state.controledDir1&&(e=-1),this.setState({controledDir1:(this.state.controledDir1+1)%4,controledPos1:this.state.controledPos1+e})}if(this.state.isControlledPlayer2){var t=0;1===this.state.controledPos2&&2===this.state.controledDir2&&(t=1),6===this.state.controledPos2&&0===this.state.controledDir2&&(t=-1),this.setState({controledDir2:(this.state.controledDir2+1)%4,controledPos2:this.state.controledPos2+t})}}},{key:"putPuyo",value:function(){this.state.isControlledPlayer1&&this.puyotan.setAction(0,new N.Action(N.ActionType.PUT,this.state.controledPos1,this.state.controledDir1)),this.state.isControlledPlayer2&&this.puyotan.setAction(1,new N.Action(N.ActionType.PUT,this.state.controledPos2,this.state.controledDir2)),this.stepNextFrame()}},{key:"pass",value:function(){this.state.isControlledPlayer1&&this.puyotan.setAction(0,new N.Action(N.ActionType.PASS)),this.state.isControlledPlayer2&&this.puyotan.setAction(1,new N.Action(N.ActionType.PASS)),this.stepNextFrame()}},{key:"getAxisPos1",value:function(){return new A.Pos(this.state.controledPos1,12)}},{key:"getAxisPos2",value:function(){return new A.Pos(this.state.controledPos2,12)}},{key:"getSubPos1",value:function(){switch(this.state.controledDir1){case 0:return new A.Pos(this.state.controledPos1,13);case 1:return new A.Pos(this.state.controledPos1+1,12);case 2:return new A.Pos(this.state.controledPos1,11);case 3:return new A.Pos(this.state.controledPos1-1,12);default:throw Error("unsupported dir ".concat(this.state.controledDir1))}}},{key:"getSubPos2",value:function(){switch(this.state.controledDir2){case 0:return new A.Pos(this.state.controledPos2,13);case 1:return new A.Pos(this.state.controledPos2+1,12);case 2:return new A.Pos(this.state.controledPos2,11);case 3:return new A.Pos(this.state.controledPos2-1,12);default:throw Error("unsupported dir ".concat(this.state.controledDir2))}}},{key:"stepNextFrame",value:function(){this.puyotan.stepNextFrame(),this.reflectPuyotanView()}}]),t}(i.a.Component),E=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(o,null),i.a.createElement(O,null))};a(21);Object(n.render)(i.a.createElement(E,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(23)}},[[9,2,1]]]);
//# sourceMappingURL=main.8d15a245.chunk.js.map